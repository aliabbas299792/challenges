const collatz = (n) => n % 2 ? 3*n + 1 : n / 2;

function collatz_iterate(n){
    let current_num = n;
    let loops = 1;
    while(current_num !== 1){
        current_num = collatz(current_num);
        loops++;
    }
    return loops;
}

function get_longest_path_under_limit(limit){
    let item_max_under_limit = 0;
    let longest_path_num = 0;
    for(let i = 1; i < limit; i++){
        const collatz_length = collatz_iterate(i);
        if(collatz_length > item_max_under_limit){
            longest_path_num = i;
            item_max_under_limit = collatz_length;
        }
    }
    return longest_path_num;
}

console.log("The longest collatz sequence under one million is generated by the number:",get_longest_path_under_limit(1000000));
